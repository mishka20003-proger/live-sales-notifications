# üß™ Stage 5 - –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

## ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ API)

### 1Ô∏è‚É£ –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö - Real / Fake

**‚úÖ REAL MODE:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å real mode
dataSource: "real"

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
curl http://localhost:3000/proxy/recent-orders?shop=...
```
```json
{
  "orders": [
    {
      "orderNumber": "#1003",
      "customerName": "Alex Johnson",
      "totalPrice": "234.56",
      "currency": "EUR"
    }
  ],
  "dataSource": "real",
  "count": 3
}
```

**‚úÖ FAKE MODE:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å fake mode
dataSource: "fake"

# –†–µ–∑—É–ª—å—Ç–∞—Ç (–∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å - –ù–û–í–´–ô –∑–∞–∫–∞–∑):
```
```json
{
  "orders": [
    {
      "orderNumber": "#9536",
      "customerName": "Someone from Paris",
      "productName": "Bluetooth Speaker Portable",
      "totalPrice": "103.53"
    }
  ],
  "dataSource": "fake",
  "count": 1
}
```

---

### 2Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Fake Orders

**‚úÖ –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø–æ–∫–∞–∑–∞: 5 / 10 / 15 / 30 —Å–µ–∫—É–Ω–¥**
```json
{
  "fakeInterval": 5  // ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
}
```

**‚úÖ –î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω (min / max)**
```javascript
// –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
fakePriceMin: 20.0
fakePriceMax: 150.0

// –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (5 —Ç–µ—Å—Ç–æ–≤):
$103.53 ‚úÖ (–≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ)
$72.96  ‚úÖ (–≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ)
$148.07 ‚úÖ (–≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ)
$87.01  ‚úÖ (–≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ)
$99.35  ‚úÖ (–≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ)
```

**‚úÖ –°–ª—É—á–∞–π–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –ø—Ä–µ—Å–µ—Ç–∞**
```
–¢–µ—Å—Ç–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- Laptop Stand Ergonomic
- Running Shoes Elite
- Gaming Mouse RGB
- Bluetooth Speaker Portable
- Coffee Maker Deluxe
- Sunglasses Classic
```

**‚úÖ –°–ª—É—á–∞–π–Ω—ã–µ –∏–º–µ–Ω–∞**
```
–ü–æ–ª–Ω—ã–µ –∏–º–µ–Ω–∞:
- Christopher King
- Matthew Nguyen
- Sarah Nguyen
- James Hernandez
- Alex Johnson

–ê–Ω–æ–Ω–∏–º–Ω—ã–µ:
- Someone from Paris
- Someone from Chicago
- Someone from Tokyo
```

---

### 3Ô∏è‚É£ –í–Ω–µ—à–Ω–∏–π –≤–∏–¥ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**‚úÖ –†–∞–∑–º–µ—Ä: small / medium / large**
```json
{
  "size": "small"   // ‚úÖ
  "size": "medium"  // ‚úÖ
  "size": "large"   // ‚úÖ
}
```

**‚úÖ –ü–æ–∑–∏—Ü–∏—è**
```json
{
  "position": "bottom-left"   // ‚úÖ
  "position": "bottom-right"  // ‚úÖ
  "position": "top-center"    // ‚úÖ
}
```

**‚úÖ –ì–ª–æ–±–∞–ª—å–Ω—ã–π –≤–∫–ª/–≤—ã–∫–ª**
```json
{
  "enabled": true   // ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è
  "enabled": false  // ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–∫—Ä—ã—Ç—ã
}
```

---

### 4Ô∏è‚É£ –•—Ä–∞–Ω–∏–ª–∏—â–µ –∏ API

**‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–∂–∏–≤–∞—é—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É**
- –•—Ä–∞–Ω—è—Ç—Å—è –≤ Prisma DB ‚úÖ
- Migration —Å–æ–∑–¥–∞–Ω–∞: `20251217221208_add_fake_orders_settings` ‚úÖ

**‚úÖ Storefront —á–∏—Ç–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏**
- Endpoint: `/proxy/settings` ‚úÖ
- Polling –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥ ‚úÖ
- –ë–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–ø—É–±–ª–∏—á–Ω—ã–π) ‚úÖ

**‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –¥–µ–ø–ª–æ—è**
- API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç ‚úÖ
- Hot reload –Ω–∞—Å—Ç—Ä–æ–µ–∫ ‚úÖ

**‚úÖ UI —Ç–æ–ª—å–∫–æ Polaris**
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ @shopify/polaris ‚úÖ

---

## üì∏ –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### Real Order (–∏–∑ –ë–î):
```json
{
  "id": "C942D2F3-4B60-4840-B9A6-285334FEEBC6",
  "orderNumber": "#1003",
  "customerName": "Alex Johnson",
  "totalPrice": "234.56",
  "currency": "EUR",
  "createdAt": "2025-12-17T20:37:00.000Z"
}
```

### Fake Order (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è):
```json
{
  "id": "fake-1766095290205-3992",
  "orderNumber": "#9536",
  "customerName": "Someone from Paris",
  "productName": "Bluetooth Speaker Portable",
  "totalPrice": "103.53",
  "currency": "USD",
  "createdAt": "2025-12-18T21:21:30.205Z"
}
```

---

## üéØ Definition of Done - –ü—Ä–æ–≤–µ—Ä–∫–∞

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –°—Ç–∞—Ç—É—Å | –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ |
|----------|--------|----------------|
| –í –∞–¥–º–∏–Ω–∫–µ –µ—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" | ‚úÖ | `/app/settings` route —Å—É—â–µ—Å—Ç–≤—É–µ—Ç |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ —á–∏—Ç–∞—é—Ç—Å—è | ‚úÖ | Prisma DB, –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ curl |
| Storefront —á–∏—Ç–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ | ‚úÖ | `/proxy/settings` —Ä–∞–±–æ—Ç–∞–µ—Ç |
| Real/Fake –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –±–µ–∑ reload | ‚úÖ | dataSource –º–µ–Ω—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ |
| –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å | ‚úÖ | `enabled: false` —Ä–∞–±–æ—Ç–∞–µ—Ç |
| Fake –∏–Ω—Ç–µ—Ä–≤–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ | fakeInterval: 5/10/15/30 |
| Fake —Ü–µ–Ω—ã –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ | ‚úÖ | –í—Å–µ 5 —Ç–µ—Å—Ç–æ–≤ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ |
| Fake –∏–º–µ–Ω–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è | ‚úÖ | 32+ –∏–º—ë–Ω + –∞–Ω–æ–Ω–∏–º–Ω—ã–µ |
| Fake —Ç–æ–≤–∞—Ä—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è | ‚úÖ | 20+ —Ç–æ–≤–∞—Ä–æ–≤ |
| –†–∞–∑–º–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç | ‚úÖ | small/medium/large |
| –ü–æ–∑–∏—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç | ‚úÖ | 3 –ø–æ–∑–∏—Ü–∏–∏ |
| –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (Total Shows) | ‚úÖ | –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ |

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ Backend API - –ì–û–¢–û–í–û
–í—Å—ë –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ curl, —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ.

### üîú Admin UI - –ù–£–ñ–ù–û –ü–†–û–í–ï–†–ò–¢–¨
1. –û—Ç–∫—Ä—ã—Ç—å `/app/settings` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å Real ‚Üí Fake
3. –ò–∑–º–µ–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –Ω–∞ 5 —Å–µ–∫—É–Ω–¥
4. –ò–∑–º–µ–Ω–∏—Ç—å —Ü–µ–Ω—ã $20-$150
5. –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –Ω–∞ Large
6. –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é –Ω–∞ Top Center
7. –ù–∞–∂–∞—Ç—å Save
8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Total Shows —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è

### üîú Storefront Integration - –ù–£–ñ–ù–û –ü–†–û–í–ï–†–ò–¢–¨
1. –û—Ç–∫—Ä—ã—Ç—å test storefront –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –£–≤–∏–¥–µ—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
3. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
   - Large —Ä–∞–∑–º–µ—Ä
   - Top Center –ø–æ–∑–∏—Ü–∏—è
   - Fake –¥–∞–Ω–Ω—ã–µ (–Ω–∞–∑–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤)
4. –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –∞–¥–º–∏–Ω–∫–µ
5. –ß–µ—Ä–µ–∑ 10-15 —Å–µ–∫ storefront –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–∏—Ç—å—Å—è

---

## üìù –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ Real mode:
```bash
cd /Users/boss/Desktop/shopify-two/shopify-app
npx tsx -e "
import { PrismaClient } from '@prisma/client';
const prisma = new PrismaClient();
await prisma.appSettings.update({
  where: { shop: 'test-store-1100000000000000000000000000000002894.myshopify.com' },
  data: { dataSource: 'real' }
});
console.log('‚úÖ Real mode');
await prisma.\$disconnect();
"
```

### –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ Fake mode:
```bash
npx tsx -e "
import { PrismaClient } from '@prisma/client';
const prisma = new PrismaClient();
await prisma.appSettings.update({
  where: { shop: 'test-store-1100000000000000000000000000000002894.myshopify.com' },
  data: { dataSource: 'fake', fakeInterval: 5, fakePriceMin: 20, fakePriceMax: 150 }
});
console.log('‚úÖ Fake mode');
await prisma.\$disconnect();
"
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
```bash
curl -s "http://localhost:3000/proxy/settings?shop=test-store-1100000000000000000000000000000002894.myshopify.com" | python3 -m json.tool
```

### –ü–æ–ª—É—á–∏—Ç—å –∑–∞–∫–∞–∑:
```bash
curl -s "http://localhost:3000/proxy/recent-orders?shop=test-store-1100000000000000000000000000000002894.myshopify.com" | python3 -m json.tool
```

---

## ‚úÖ –ò–¢–û–ì

**Backend –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω:**
- ‚úÖ Real/Fake —Ä–µ–∂–∏–º
- ‚úÖ Fake –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (–∏–º–µ–Ω–∞, —Ç–æ–≤–∞—Ä—ã, —Ü–µ–Ω—ã)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑–º–µ—Ä–∞ –∏ –ø–æ–∑–∏—Ü–∏–∏
- ‚úÖ API endpoints
- ‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (Total Shows)
- ‚úÖ Database migrations
- ‚úÖ –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ Prisma

**–û—Å—Ç–∞–ª–æ—Å—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- üîú Admin UI (–≤–∏–∑—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
- üîú Storefront integration (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º –º–∞–≥–∞–∑–∏–Ω–µ)

**Stage 5 - 95% –≥–æ—Ç–æ–≤! üéâ**

